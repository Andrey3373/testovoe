# Анализ макроэкономических данных

Скрипт для анализа CSV файлов с макроэкономическими данными по странам.

## Требования

- Python 3.6+
- pytest (для запуска тестов)

## Установка зависимостей

```bash
pip install -r requirements.txt
```

## Использование

### Основной синтаксис

```bash
python main.py --files <файл1> <файл2> ... --report <тип_отчета>
```

### Параметры

- `--files` - Один или несколько путей к CSV файлам (обязательно)
- `--report` - Тип отчета (по умолчанию: average-gdp)

### Примеры запуска

#### Отчет о среднем ВВП по странам (одного файла)

```bash
python main.py --files Пример1.csv --report average-gdp
```

#### Отчет о среднем ВВП по нескольким файлам

```bash
python main.py --files Пример1.csv Пример2.csv --report average-gdp
```

#### Отчет с названием по умолчанию

```bash
python main.py --files Пример1.csv Пример2.csv
```

## Примеры выхода

```
+----+-----------------+------------+
| id |     country     |     gdp    |
+----+-----------------+------------+
|  1 | United States   | 24388.50   |
|  2 | China           | 17848.50   |
|  3 | India           | 3423.67    |
|  4 | Japan           | 4467.00    |
|  5 | Germany         | 4138.33    |
...
+----+-----------------+------------+
```

## Формат входных данных

CSV файлы должны содержать следующие колонки:
- `country` - название страны
- `year` - год
- `gdp` - валовый внутренний продукт
- `gdp_growth` - рост ВВП (%)
- `inflation` - инфляция (%)
- `unemployment` - безработица (%)
- `population` - население (млн)
- `continent` - континент

## Отчеты

### average-gdp

Выводит таблицу со средним ВВП по странам, отсортированной в убывающем порядке.

## Тестирование

Для запуска всех тестов:

```bash
pytest test_main.py -v
```

Для запуска конкретного теста:

```bash
pytest test_main.py::TestReadCsvFiles::test_read_single_file -v
```

Для проверки покрытия (если установлен pytest-cov):

```bash
pytest test_main.py --cov=main
```

## Описание функций

### `read_csv_files(file_paths)`

Читает один или несколько CSV файлов и объединяет данные.

**Параметры:**
- `file_paths` - список путей к CSV файлам

**Возвращает:**
- Список словарей с данными

### `calculate_average_gdp(data)`

Вычисляет средний ВВП по странам на основе всех данных.

**Параметры:**
- `data` - список словарей с данными

**Возвращает:**
- Словарь со средним ВВП по странам (отсортированный по убыванию)

### `format_table(data)`

Форматирует данные в виде красивой таблицы.

**Параметры:**
- `data` - словарь со значениями для отображения

**Возвращает:**
- Отформатированная строка таблицы

## Стандарты кода

Код соответствует стандарту PEP 8 и имеет полное покрытие документцией.
